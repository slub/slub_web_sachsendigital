<html lang="en" xmlns="http://www.w3.org/1999/xhtml" xmlns:f="http://typo3.org/ns/TYPO3/CMS/Fluid/ViewHelpers" xmlns:sxnd="http://typo3.org/ns/Slub/SlubWebSachsendigital/ViewHelpers">

<f:section name="Player">
    <div id="tx-dlf-view" class="tx-dlf-view">
        <div class="media-viewport"></div>
    </div>

    <script>
        window.addEventListener('DOMContentLoaded', function () {
            var container = document.querySelector('.media-viewport');
            var videoConfig = {sxnd:videoToJson(settings: settings)};
            var playerConfig = {sxnd:playerConfigToJson(settings: settings)};
            playerConfig.lang = {sxnd:translations(baseFile: settings.playerTranslations.baseFile) -> f:format.json() -> f:format.raw()};

            var app = new SlubMediaPlayer(container, videoConfig, playerConfig);
        });
    </script>
</f:section>

</html>
